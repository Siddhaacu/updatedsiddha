// Vedic Astrology Platform — Starter React (Next.js) + Tailwind code
// ---------------------------------------------------------------
// Files included below. Copy each file into your Next.js / React project.
// Requirements: Next.js (or React), Tailwind CSS configured.
// For Next.js create these under `pages/` and `components/` respectively.

/* ===================================================================
   File: pages/index.jsx
   Description: Homepage scaffold with hero, trust cards, astrologer listing,
   and BookingWidget embedded.
   =================================================================== */

import Head from 'next/head'
import BookingWidget from '../components/BookingWidget'
import AstrologerCard from '../components/AstrologerCard'

const astrologers = [
  {
    id: 1,
    name: 'Pandit R. Sharma',
    specialties: ['Muhurtha', 'Career', 'Marriage'],
    lang: 'English, Hindi',
    rating: 4.9,
    price: 1500,
    img: '/images/astrologer1.jpg'
  },
  {
    id: 2,
    name: 'Smt. Anjali Rao',
    specialties: ['Health', 'Finance', 'Remedies'],
    lang: 'English, Telugu',
    rating: 4.8,
    price: 1200,
    img: '/images/astrologer2.jpg'
  }
]

export default function Home() {
  return (
    <div>
      <Head>
        <title>Vedic Guidance — Muhurtha & Astrology</title>
        <meta name="description" content="Book Vedic astrologer consultations & muhurthas" />
      </Head>

      <main className="min-h-screen bg-gradient-to-b from-white via-rose-50 to-white">
        <header className="max-w-6xl mx-auto p-6 flex items-center justify-between">
          <div className="flex items-center gap-4">
            <img src="/images/logo-12.png" alt="logo" className="w-12 h-12 rounded-full shadow-lg"/>
            <div>
              <h1 className="text-2xl font-extrabold">Vedic Guidance</h1>
              <p className="text-sm text-gray-600">Accurate Muhurthas · Verified Astrologers · Secure Bookings</p>
            </div>
          </div>
          <div className="flex items-center gap-3">
            <a href="#booking" className="bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-lg">Book Consultation</a>
            <a href="#muhurtha" className="border border-gray-200 px-4 py-2 rounded-lg">Check Muhurtha</a>
          </div>
        </header>

        {/* Hero */}
        <section className="max-w-6xl mx-auto px-6 py-10 grid md:grid-cols-2 gap-8 items-center">
          <div>
            <h2 className="text-4xl font-bold leading-tight mb-4">Find the right muhurtha. Book a trusted Vedic astrologer in minutes.</h2>
            <p className="text-gray-700 mb-6">Accurate panchangam, verified astrologers, digital muhurtha certificates and step-by-step guidance for every sacred ceremony.</p>
            <div className="flex gap-3">
              <a href="#booking" className="bg-amber-500 hover:bg-amber-600 text-white px-5 py-3 rounded-lg font-medium">Book Now</a>
              <a href="#free" className="text-amber-600 border border-amber-200 px-5 py-3 rounded-lg">Get Free 3-min Panchangam</a>
            </div>

            <div className="mt-8 grid grid-cols-3 gap-4">
              <div className="p-4 bg-white rounded-lg shadow">
                <h4 className="font-semibold">Verified Astrologers</h4>
                <p className="text-sm text-gray-500">Profiles, qualifications & reviews</p>
              </div>
              <div className="p-4 bg-white rounded-lg shadow">
                <h4 className="font-semibold">Real-time Muhurtha</h4>
                <p className="text-sm text-gray-500">Accurate timings & PDFs</p>
              </div>
              <div className="p-4 bg-white rounded-lg shadow">
                <h4 className="font-semibold">Secure Payments</h4>
                <p className="text-sm text-gray-500">UPI, cards & wallets</p>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-2xl p-6 shadow-xl">
            <BookingWidget astrologers={astrologers} />
          </div>
        </section>

        {/* Astrologers */}
        <section className="max-w-6xl mx-auto px-6 py-10">
          <h3 className="text-2xl font-bold mb-6">Featured Astrologers</h3>
          <div className="grid md:grid-cols-2 gap-6">
            {astrologers.map(a => (
              <AstrologerCard key={a.id} astrologer={a} />
            ))}
          </div>
        </section>

        <footer className="max-w-6xl mx-auto p-6 text-center text-gray-600">
          © {new Date().getFullYear()} Vedic Guidance · Privacy · Terms
        </footer>
      </main>
    </div>
  )
}


/* ===================================================================
   File: components/BookingWidget.jsx
   Description: Booking widget with Muhurtha quick-check and 3-step booking
   (client-side demo; replace payment & API stubs with real endpoints)
   =================================================================== */

import { useState } from 'react'

export default function BookingWidget({ astrologers }) {
  const [step, setStep] = useState(1)
  const [selected, setSelected] = useState(astrologers[0])
  const [service, setService] = useState('Consultation')
  const [name, setName] = useState('')
  const [email, setEmail] = useState('')
  const [phone, setPhone] = useState('')
  const [date, setDate] = useState('')
  const [notes, setNotes] = useState('')
  const [confirmed, setConfirmed] = useState(false)

  function next() {
    setStep(s => Math.min(s + 1, 3))
  }
  function back() {
    setStep(s => Math.max(s - 1, 1))
  }

  function confirmBooking() {
    // TODO: Replace with API call to create booking, handle payment via Razorpay/Stripe
    const payload = { astrologerId: selected.id, service, name, email, phone, date, notes }
    console.log('Booking payload', payload)
    setConfirmed(true)
  }

  return (
    <div id="booking">
      <h4 className="text-xl font-semibold mb-2">Quick Booking</h4>
      <p className="text-sm text-gray-500 mb-4">Pick service, slot and confirm — demo flow (no live payment).</p>

      <div className="mb-4">
        <label className="block text-sm font-medium">Astrologer</label>
        <select value={selected.id} onChange={e => setSelected(astrologers.find(a => a.id === Number(e.target.value)))} className="mt-1 w-full border rounded p-2">
          {astrologers.map(a => <option key={a.id} value={a.id}>{a.name} · ₹{a.price}</option>)}
        </select>
      </div>

      {step === 1 && (
        <div>
          <label className="block text-sm font-medium">Service</label>
          <select value={service} onChange={e => setService(e.target.value)} className="mt-1 w-full border rounded p-2">
            <option>Consultation</option>
            <option>Muhurtha — Namakarana</option>
            <option>Muhurtha — Annaprashana</option>
            <option>Muhurtha — GrihaPravesa</option>
            <option>Personal Remedies</option>
          </select>

          <label className="block text-sm font-medium mt-4">Preferred Date</label>
          <input type="date" value={date} onChange={e => setDate(e.target.value)} className="mt-1 w-full border rounded p-2" />

          <div className="mt-4 flex justify-between">
            <button onClick={next} className="bg-amber-500 text-white px-4 py-2 rounded">Next</button>
            <button onClick={() => { setService('Consultation'); setDate('') }} className="text-sm text-gray-500">Reset</button>
          </div>
        </div>
      )}

      {step === 2 && (
        <div>
          <label className="block text-sm font-medium">Your Full Name</label>
          <input value={name} onChange={e => setName(e.target.value)} className="mt-1 w-full border rounded p-2" />

          <div className="mt-3 grid grid-cols-2 gap-3">
            <div>
              <label className="block text-sm font-medium">Email</label>
              <input value={email} onChange={e => setEmail(e.target.value)} className="mt-1 w-full border rounded p-2" />
            </div>
            <div>
              <label className="block text-sm font-medium">Phone</label>
              <input value={phone} onChange={e => setPhone(e.target.value)} className="mt-1 w-full border rounded p-2" />
            </div>
          </div>

          <label className="block text-sm font-medium mt-3">Notes (birth details, constraints)</label>
          <textarea value={notes} onChange={e => setNotes(e.target.value)} className="mt-1 w-full border rounded p-2" rows={3} />

          <div className="mt-4 flex justify-between">
            <button onClick={back} className="px-4 py-2 border rounded">Back</button>
            <button onClick={next} className="bg-amber-500 text-white px-4 py-2 rounded">Proceed to Pay</button>
          </div>
        </div>
      )}

      {step === 3 && (
        <div>
          <h5 className="font-semibold">Confirm & Pay</h5>
          <div className="mt-3 text-sm text-gray-700">
            <p><strong>Astrologer:</strong> {selected.name}</p>
            <p><strong>Service:</strong> {service}</p>
            <p><strong>Preferred Date:</strong> {date || 'Flexible'}</p>
            <p><strong>Price:</strong> ₹{selected.price}</p>
          </div>

          <div className="mt-4">
            {/* Payment placeholder: integrate Razorpay/Stripe here */}
            <button onClick={confirmBooking} className="w-full bg-amber-600 text-white px-4 py-3 rounded-lg font-medium">Pay ₹{selected.price} (Demo)</button>
          </div>

          <div className="mt-3 flex justify-between">
            <button onClick={back} className="px-4 py-2 border rounded">Back</button>
            <button onClick={() => { setStep(1); setConfirmed(false) }} className="px-4 py-2 text-sm text-gray-500">Start Over</button>
          </div>

          {confirmed && (
            <div className="mt-4 bg-green-50 border border-green-200 text-green-800 p-3 rounded">
              Booking confirmed (demo). You'll receive an email with panchangam & next steps.
            </div>
          )}
        </div>
      )}

      {/* Quick muhurtha checker */}
      <div className="mt-6 border-t pt-4">
        <h6 className="text-sm font-semibold">Quick Muhurtha Check</h6>
        <p className="text-xs text-gray-500">Select event to get suggested muhurthas (demo results).</p>
        <div className="mt-2 grid grid-cols-2 gap-2">
          <button className="p-2 border rounded text-sm">Namakarana</button>
          <button className="p-2 border rounded text-sm">Annaprashana</button>
          <button className="p-2 border rounded text-sm">Upanayana</button>
          <button className="p-2 border rounded text-sm">GrihaPravesa</button>
        </div>
      </div>
    </div>
  )
}


/* ===================================================================
   File: components/AstrologerCard.jsx
   Description: Simple card to present astrologer info and CTA
   =================================================================== */

export default function AstrologerCard({ astrologer }) {
  return (
    <div className="flex gap-4 items-center p-4 bg-white shadow rounded-lg">
      <img src={astrologer.img} alt={astrologer.name} className="w-24 h-24 object-cover rounded-lg shadow-sm" />
      <div className="flex-1">
        <h4 className="text-lg font-semibold">{astrologer.name}</h4>
        <p className="text-sm text-gray-600">{astrologer.specialties.join(' · ')}</p>
        <p className="text-xs text-gray-500 mt-1">Languages: {astrologer.lang}</p>
        <div className="mt-3 flex items-center justify-between">
          <div className="text-sm text-amber-600 font-semibold">₹{astrologer.price}</div>
          <a href="#booking" className="text-sm bg-amber-500 text-white px-3 py-2 rounded">Book</a>
        </div>
      </div>
    </div>
  )
}


/* ===================================================================
   Notes & Next steps (developer)
   - Configure Tailwind in your Next.js project per Tailwind docs.
   - Replace demo data & images with real content and real payment integration.
   - Implement server APIs: /api/bookings, /api/astrologers, authentication.
   - For accurate panchangam & muhurtha, integrate Swiss Ephemeris or a licensed astrology engine server-side.
   - Add i18n (next-i18next or react-intl) for regional languages.

   Want: I can also generate:
   - A single-file ZIP with these files for you to download
   - A detailed README with deploy steps (Vercel + Postgres)
   - A React Native app shell matching this design

   Tell me which additional artifact you want and I will add it.
   =================================================================== */
