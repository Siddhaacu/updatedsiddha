<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Panchanga — Interactive Tithi Guide | Siddha Saraswatha</title>

  <link rel="shortcut icon" type="image/png" href="12.png">
  <link rel="stylesheet" href="styles.css">

  <style>
    /* small page tweaks & table visuals */
    .wrap{max-width:1100px;margin:18px auto;padding:0 18px}
    .page-header{text-align:center;margin-bottom:12px}
    .muted{color:var(--muted)}
    .controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin:12px 0}
    .activity-btn{padding:8px 12px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);cursor:pointer;background:#fff}
    .activity-btn.active{box-shadow:0 6px 18px rgba(192,107,0,0.12);background:linear-gradient(90deg,#ffd37b,#ffb84d);color:#221403;border-color:transparent}
    .legend{display:flex;gap:10px;justify-content:center;margin-top:8px}
    .legend .item{display:flex;gap:6px;align-items:center;font-size:.95rem}
    .badge{width:12px;height:12px;border-radius:3px;display:inline-block}
    .rec{background:#DFF5E0;border:1px solid #B6E6B4} /* recommended */
    .caut{background:#FFF3D9;border:1px solid #FFD59A} /* caution */
    .avoid{background:#FDE7E7;border:1px solid #F5B5B5} /* avoid */

    /* table */
    .tithi-table{width:100%;border-collapse:collapse;margin-top:12px}
    .tithi-table th,.tithi-table td{padding:10px 12px;border-bottom:1px solid rgba(0,0,0,0.04);text-align:left}
    .tithi-table tr.highlight-recommended{background:rgba(35,177,85,0.06)}
    .tithi-table tr.highlight-caution{background:rgba(255,184,77,0.06)}
    .tithi-table tr.highlight-avoid{background:rgba(220,60,60,0.04)}
    .tithi-table a.anchor-link{font-weight:700;color:var(--accent);text-decoration:none}

    /* responsive */
    @media(max-width:720px){
      .controls{flex-direction:column;align-items:center}
      .tithi-table th:nth-child(2), .tithi-table td:nth-child(2) { display:none } /* hide long desc on tiny screens */
    }

    /* when deep-linking to a section, give a short highlight */
    .deep-target { box-shadow:0 6px 28px rgba(192,107,0,0.14); border-radius:8px; padding:8px; }
  </style>
</head>
<body>

  <!-- header fragment -->
  <div include-html="header.html"></div>

  <main class="wrap" id="main" role="main">
    <header class="page-header">
      <h1>Panchānga — Interactive Tithi Guide</h1>
      <p class="muted">Click an activity to highlight recommended / caution / avoid tithis. Use anchor links to deep-link specific tithis or sections.</p>
    </header>

    <!-- quick anchors -->
    <nav style="text-align:center;margin-bottom:12px" aria-label="Quick links">
      <a class="activity-btn" href="#vara">Vara</a>
      <a class="activity-btn" href="#tithis">Tithis</a>
      <a class="activity-btn" href="#months">Months</a>
      <a class="activity-btn" href="#sixty">60-year cycle</a>
    </nav>

    <!-- activity controls -->
    <div class="controls" role="toolbar" aria-label="Choose activity">
      <button class="activity-btn" data-activity="all" aria-pressed="true">Show All</button>
      <button class="activity-btn" data-activity="wedding">Wedding</button>
      <button class="activity-btn" data-activity="housewarming">Housewarming</button>
      <button class="activity-btn" data-activity="travel">Travel</button>
    </div>

    <div class="legend" aria-hidden="false">
      <div class="item"><span class="badge rec"></span> Recommended</div>
      <div class="item"><span class="badge caut"></span> Caution</div>
      <div class="item"><span class="badge avoid"></span> Avoid</div>
    </div>

    <!-- Tithis section (anchor) -->
    <section id="tithis" style="margin-top:18px;">
      <h2>Tithis — quick interactive table</h2>
      <p class="muted">Click an activity above to highlight which tithis are recommended, cautionary or to be avoided for that activity.</p>

      <table class="tithi-table" role="table" aria-label="Tithi recommendations">
        <thead>
          <tr>
            <th style="width:160px">Tithi</th>
            <th class="muted">Short description</th>
            <th style="width:120px">Wedding</th>
            <th style="width:160px">Housewarming</th>
            <th style="width:120px">Travel</th>
          </tr>
        </thead>
        <tbody id="tithiBody">
          <!-- Note: status values = rec / caut / avoid -->
          <tr id="tithi-pratipada" data-tithi="pratipada">
            <td><a class="anchor-link" href="#tithi-pratipada">Pratipada</a></td>
            <td class="muted">Auspicious for beginnings and ceremonies.</td>
            <td data-wedding="rec">Recommended</td>
            <td data-housewarming="rec">Recommended</td>
            <td data-travel="rec">Recommended</td>
          </tr>

          <tr id="tithi-dwitiya" data-tithi="dwitiya">
            <td><a class="anchor-link" href="#tithi-dwitiya">Dwitiya</a></td>
            <td class="muted">Good for laying foundations and starting work.</td>
            <td data-wedding="rec">Recommended</td>
            <td data-housewarming="rec">Recommended</td>
            <td data-travel="caut">Caution</td>
          </tr>

          <tr id="tithi-tritiya" data-tithi="tritiya">
            <td><a class="anchor-link" href="#tithi-tritiya">Tritiya</a></td>
            <td class="muted">Victory & auspicious starts.</td>
            <td data-wedding="rec">Recommended</td>
            <td data-housewarming="caut">Caution</td>
            <td data-travel="rec">Recommended</td>
          </tr>

          <tr id="tithi-chaturthi" data-tithi="chaturthi">
            <td><a class="anchor-link" href="#tithi-chaturthi">Chaturthi</a></td>
            <td class="muted">Often Rikta — avoid major new beginnings.</td>
            <td data-wedding="avoid">Avoid</td>
            <td data-housewarming="avoid">Avoid</td>
            <td data-travel="caut">Caution</td>
          </tr>

          <tr id="tithi-panchami" data-tithi="panchami">
            <td><a class="anchor-link" href="#tithi-panchami">Panchami</a></td>
            <td class="muted">Favourable for healing; completing tasks.</td>
            <td data-wedding="caut">Caution</td>
            <td data-housewarming="rec">Recommended</td>
            <td data-travel="rec">Recommended</td>
          </tr>

          <tr id="tithi-shasthi" data-tithi="shasthi">
            <td><a class="anchor-link" href="#tithi-shasthi">Shasthi</a></td>
            <td class="muted">Good for construction, coronation; not ideal for marriage.</td>
            <td data-wedding="avoid">Avoid</td>
            <td data-housewarming="rec">Recommended</td>
            <td data-travel="caut">Caution</td>
          </tr>

          <tr id="tithi-saptami" data-tithi="saptami">
            <td><a class="anchor-link" href="#tithi-saptami">Saptami</a></td>
            <td class="muted">Good for journeys and beginnings of transport-related activities.</td>
            <td data-wedding="rec">Recommended</td>
            <td data-housewarming="caut">Caution</td>
            <td data-travel="rec">Recommended</td>
          </tr>

          <tr id="tithi-ashtami" data-tithi="ashtami">
            <td><a class="anchor-link" href="#tithi-ashtami">Ashtami</a></td>
            <td class="muted">Often good for competitive/martial activities and sports.</td>
            <td data-wedding="caut">Caution</td>
            <td data-housewarming="avoid">Avoid</td>
            <td data-travel="rec">Recommended</td>
          </tr>

          <tr id="tithi-navami" data-tithi="navami">
            <td><a class="anchor-link" href="#tithi-navami">Navami</a></td>
            <td class="muted">Rikta; generally not for auspicious starts.</td>
            <td data-wedding="avoid">Avoid</td>
            <td data-housewarming="avoid">Avoid</td>
            <td data-travel="caut">Caution</td>
          </tr>

          <tr id="tithi-dasami" data-tithi="dasami">
            <td><a class="anchor-link" href="#tithi-dasami">Dasami</a></td>
            <td class="muted">Good for completion and virtuous acts.</td>
            <td data-wedding="rec">Recommended</td>
            <td data-housewarming="rec">Recommended</td>
            <td data-travel="rec">Recommended</td>
          </tr>

          <tr id="tithi-ekadasi" data-tithi="ekadasi">
            <td><a class="anchor-link" href="#tithi-ekadasi">Ekadasi</a></td>
            <td class="muted">Fasting, worship, vows — spiritual focus.</td>
            <td data-wedding="caut">Caution</td>
            <td data-housewarming="caut">Caution</td>
            <td data-travel="avoid">Avoid</td>
          </tr>

          <tr id="tithi-dwadasi" data-tithi="dwadasi">
            <td><a class="anchor-link" href="#tithi-dwadasi">Dwadasi</a></td>
            <td class="muted">Auspicious for certain rituals and duties.</td>
            <td data-wedding="rec">Recommended</td>
            <td data-housewarming="rec">Recommended</td>
            <td data-travel="caut">Caution</td>
          </tr>

          <tr id="tithi-trayodasi" data-tithi="trayodasi">
            <td><a class="anchor-link" href="#tithi-trayodasi">Trayodasi</a></td>
            <td class="muted">Pradosha — auspicious for Shiva worship and many ceremonies.</td>
            <td data-wedding="rec">Recommended</td>
            <td data-housewarming="caut">Caution</td>
            <td data-travel="rec">Recommended</td>
          </tr>

          <tr id="tithi-chaturdasi" data-tithi="chaturdasi">
            <td><a class="anchor-link" href="#tithi-chaturdasi">Chaturdasi</a></td>
            <td class="muted">Rikta — not ideal for major beginnings.</td>
            <td data-wedding="avoid">Avoid</td>
            <td data-housewarming="avoid">Avoid</td>
            <td data-travel="caut">Caution</td>
          </tr>

          <tr id="tithi-purnima" data-tithi="purnima">
            <td><a class="anchor-link" href="#tithi-purnima">Purnima (Full Moon)</a></td>
            <td class="muted">Usually auspicious for many ceremonies and completions.</td>
            <td data-wedding="rec">Recommended</td>
            <td data-housewarming="rec">Recommended</td>
            <td data-travel="rec">Recommended</td>
          </tr>

          <tr id="tithi-amavasya" data-tithi="amavasya">
            <td><a class="anchor-link" href="#tithi-amavasya">Amavasya (New Moon)</a></td>
            <td class="muted">Often reserved for ancestral rites; certain ceremonies may be held; treat case-by-case.</td>
            <td data-wedding="avoid">Avoid</td>
            <td data-housewarming="caut">Caution</td>
            <td data-travel="caut">Caution</td>
          </tr>

        </tbody>
      </table>
    </section>

    <!-- small note + anchor examples -->
    <section id="anchors" style="margin-top:18px;">
      <p class="muted">You can deep-link to any Tithi by its id; for example:</p>
      <p>
        <code>panchanga.html#tithi-pratipada</code> — scrolls to Pratipada.  
        <code>panchanga.html#tithi-purnima</code> — jumps to Full Moon entry.
      </p>
    </section>

    <!-- CTA -->
    <section style="text-align:center;margin:20px 0;">
      <a class="activity-btn" href="services-page.html">Book a Muhurtha Consultation</a>
      <a class="activity-btn" href="learn.html" style="margin-left:8px">Learn Planets & Nakshatra</a>
    </section>
  </main>

  <!-- footer fragment -->
  <div include-html="footer.html"></div>

  <script>
    // Mapping class names for highlight
    const statusClass = { rec: 'highlight-recommended', caut: 'highlight-caution', avoid: 'highlight-avoid' };

    // Helper: set active button style
    function setActiveButton(btn) {
      document.querySelectorAll('.activity-btn').forEach(b => b.classList.remove('active'));
      if (btn) btn.classList.add('active');
    }

    // Highlight rows based on activity (wedding / housewarming / travel)
    function highlightFor(activity) {
      // remove all highlight classes first
      document.querySelectorAll('#tithiBody tr').forEach(tr => {
        tr.classList.remove(...Object.values(statusClass));
      });

      if (!activity || activity === 'all') return; // nothing to highlight

      document.querySelectorAll('#tithiBody tr').forEach(tr => {
        const cell = tr.querySelector('[data-' + activity + ']');
        if (!cell) return;
        const stat = cell.getAttribute('data-' + activity);
        if (stat && statusClass[stat]) {
          tr.classList.add(statusClass[stat]);
        }
      });
    }

    // Hook activity buttons
    document.querySelectorAll('.controls .activity-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const activity = btn.dataset.activity || 'all';
        // UI active
        setActiveButton(btn);
        // Highlight
        highlightFor(activity);
        // set aria-pressed
        document.querySelectorAll('.controls .activity-btn').forEach(b => b.setAttribute('aria-pressed', 'false'));
        btn.setAttribute('aria-pressed', 'true');
      });
    });

    // On page load: apply deep-link behavior & open <details> if target is a tithi
    function openAndScrollToHash() {
      const id = location.hash && location.hash.slice(1);
      if (!id) return;
      const el = document.getElementById(id);
      if (el) {
        // if inside a details element, open it
        const detailsParent = el.closest('details');
        if (detailsParent) detailsParent.open = true;
        // add temporary highlight
        el.classList.add('deep-target');
        // scroll into view with offset
        setTimeout(() => {
          el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 80);
        // remove highlight after 2.6s
        setTimeout(() => el.classList.remove('deep-target'), 2600);
      }
    }

    // If page loaded with hash — scroll to it
    window.addEventListener('load', () => {
      // default active = 'all'
      const defaultBtn = document.querySelector('.controls .activity-btn[data-activity="all"]');
      setActiveButton(defaultBtn);
      // apply deep link if present
      openAndScrollToHash();
    });

    // also handle hashchange during session
    window.addEventListener('hashchange', openAndScrollToHash);
  </script>
</body>
</html>
